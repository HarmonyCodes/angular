<div class="card" *ngIf="student">
    <div class="card-body">
        <form [formGroup]="StudentForm">
            <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" class="form-control" id="firstName" [formControlName]="'firstName'">
                <div class="alert alert-danger" *ngIf="!StudentForm.controls['firstName'].valid">First Name is required
                </div>
            </div>
            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" [formControlName]="'lastName'">
                <div class="alert alert-danger" *ngIf="!StudentForm.controls['lastName'].valid">Last Name is required
                </div>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address" [formControlName]="'address'">
                <div class="alert alert-danger" *ngIf="!StudentForm.controls['address'].valid">Address is required</div>
            </div>
            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" class="form-control" id="phone" [formControlName]="'phone'">
                <ng-container *ngIf="!StudentForm.controls['phone'].errors">
                    <div class="alert alert-danger" *ngIf="StudentForm.controls['phone'].hasError('required')">Phone is
                        required</div>
                    <div class="alert alert-danger" *ngIf="StudentForm.controls['phone'].hasError('minlength')">Phone
                        must be a valid number</div>
                </ng-container>
            </div>
            <div class="form-group">
                <label for="avrage">Average</label>
                <input type="text" class="form-control" id="avrage" [formControlName]="'gradeAverage'">
                <div class="alert alert-danger" *ngIf="!StudentForm.controls['gradeAverage'].valid">Average is required
                </div>
            </div>
            <div class="form-group">
                <label for="active">Active</label>
                <input type="text" class="form-control" id="active" [formControlName]="'active'">
                <div class="alert alert-danger" *ngIf="!StudentForm.controls['active'].valid">Active is required</div>
            </div>
            <div class="form-group" *ngIf="student.active==false">
                <label for="leavingDate">Leaving Date</label>
                <input type="text" class="form-control" id="leavingDate" [formControlName]="'leavingDate'">
                <div class="alert alert-danger">Leaving Date is required</div>
            </div>
            <div class="form-group">
                <label for="subject">Subjects</label>
                <select class="form-control" formControlName="subject">
                    <option *ngFor="let subject of subjects" [value]="subject.id">{{ subject.name }}</option>

                </select>
            </div>
            <div class="form-group">
                <label for="year">Year</label>
                <br>
                <input type="radio" value="Year.FIRST_YEAR" name="year" formControlName="year">first year
                <br>
                <input type="radio" value="Year.SECOND_YEAR" name="year" formControlName="year">second year
                <br>
                <input type="radio" value="Year.THIRD_YEAR" name="year" formControlName="year">third year
            </div>

            <div [ngSwitch]="StudentForm.controls['year'].value">
                <div *ngSwitchCase="'Year.FIRST_YEAR'">
                    <p>200</p>
                </div>
                <div *ngSwitchCase="'Year.SECOND_YEAR'">
                    <p>139</p>
                </div>
                <div *ngSwitchCase="'Year.THIRD_YEAR'">
                    <p>117</p>
                </div>
                <div *ngSwitchDefault>
                    <p>Unknown</p>
                </div>
            </div>             

            <input type="text" *ngIf="!student.active" class="form-control" id="leavingDate"
                [formControlName]="'leavingDate'">
            <button class="btn btn-primary" (click)="saveNewStudent()" [disabled]="!StudentForm.valid">Save</button>
        </form>
        <div class="alert alert-success mt-3" *ngIf="successMessage">
            {{ successMessage }}
          </div> 
    </div>
</div>